angular.module("gas.templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("base.html","<div class=\"gumga-layout\"><header class=\"gl-header\" ng-controller=\"MenuController\"><div class=\"searchbar\"><div class=\"icon back\"><button type=\"button\" data-ng-click=\"toggleSearch()\"><i class=\"material-icons\">arrow_back</i></button></div><div class=\"query\"><input type=\"text\" class=\"form-control\" placeholder=\"Pesquisar...\"></div><div class=\"icon search\"><button type=\"button\"><i class=\"material-icons\">search</i></button></div></div><nav class=\"navbar\"><div class=\"container-fluid\"><div class=\"navbar-header\"><a class=\"navbar-brand\" data-ng-click=\"navCollapse()\"><i class=\"material-icons\">menu</i></a><a class=\"navbar-brand\" data-ng-click=\"navCollapse()\">{{softwareName}}</a><button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#bs-example-navbar-collapse-1\" aria-expanded=\"false\"><i class=\"material-icons\">more_vert</i></button><button type=\"button\" class=\"navbar-toggle\" data-ng-click=\"toggleSearch()\"><i class=\"material-icons\">search</i></button></div><div class=\"collapse navbar-collapse\" id=\"bs-example-navbar-collapse-1\"><ul class=\"nav navbar-nav navbar-right\"><li class=\"dropdown\"><a class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">{{user.name}}<span class=\"caret\"></span></a><ul class=\"dropdown-menu\"><li><a ui-sref=\"login.log\">Sair</a></li></ul></li></ul></div></div></nav></header><main ui-view style=\"background-color: #f5f5f5\"></main><nav class=\"gl-nav\" ng-controller=\"MenuController\"><div class=\"navbar-header\"><a class=\"navbar-brand\" data-ng-click=\"navCollapse()\"><i class=\"material-icons\">menu</i></a><a class=\"navbar-brand\" data-ng-click=\"navCollapse()\">{{softwareName}}</a></div><header><figure><img src=\"resources/images/gumga.png\"></figure></header><gl-menu menu=\"menu\" keys=\"keys\"></gl-menu></nav></div>");
$templateCache.put("modules/gastank/views/form.html","<form name=\"tankform\" novalidate gumga-form><div class=\"row\"><div class=\"col-lg-12 m-t-lg\"><div class=\"ibox float-e-margins\"><div class=\"ibox-content\"><div class=\"row\"><div class=\"col-md-4 m-t-lg\"><gmd-input><input type=\"text\" class=\"form-control gmd\" ng-model=\"entity.name\" id=\"name\" required><span class=\"bar\"></span><label for=\"name\" class=\"control-label\">Nome do Tanque</label></gmd-input></div></div><div class=\"row\"><div class=\"col-md-2\"><gmd-input><input type=\"text\" class=\"form-control gmd\" ng-model=\"entity.number\" id=\"number\" required><span class=\"bar\"></span><label for=\"number\" class=\"control-label\">Número do Tanque</label></gmd-input></div></div><div class=\"row\"><div class=\"col-md-3\"><label gumga-translate-tag=\"gastank.product\"></label><strong class=\"text-danger\">*</strong><gumga-many-to-one value=\"entity.product\" search-method=\"searchProduct(param)\" field=\"name\" authorize-add=\"false\" async display-info=\"false\"><match><div>{{match.model.name}}</div></match></gumga-many-to-one></div></div></div></div><div class=\"row\"><div class=\"col-md-9 pull-right\"><button type=\"button\" grands-button=\"return\" ui-sref=\"gastank.list\" ng-show=\"entity.id\"></button><button type=\"button\" grands-button=\"save\" ng-click=\"update(entity)\" ng-disabled=\"blockBtnSave(entity)\"></button></div></div></div></div></form>");
$templateCache.put("modules/gastank/views/list.html","<div class=\"row\"><div class=\"col-lg-12\"><div class=\"ibox float-e-margins\"><div class=\"ibox-content\"><div class=\"col-md-12\"><div class=\"row\"><div class=\"row\"><div class=\"col-md-5\"><button type=\"button\" ui-sref=\"gastank.insert\" grands-button=\"new\"></button><button type=\"button\" ng-click=\"gastank.methods.delete(selectedValues)\" grands-button=\"delete\" ng-disabled=\"selectedValues.length == 0\"></button></div><div class=\"col-md-7\"><gumga-query search=\"gastank.methods.search(field, param)\" advanced-search=\"gastank.methods.advancedSearch(param)\"><search-field field=\"name\" label=\"{{\'name\'|gumgaTranslate:\'gastank\'}}\" select=\"true\"></search-field><advanced-search-field type=\"string\" label=\"{{\'name\'|gumgaTranslate:\'gastank\'}}\" field=\"name\"></advanced-search-field></gumga-query></div></div></div></div><div class=\"row\"><div class=\"col-md-12\"><gumga-list data=\"gastank.data\" configuration=\"conf\" class=\"table-bordered\"></gumga-list></div><div class=\"col-md-12\"><ul uib-pagination ng-model=\"gastank.page\" items-per-page=\"gastank.pageSize\" total-items=\"gastank.count\" ng-change=\"gastank.methods.get(gastank.page)\" previous-text=\"<< Anterior\" next-text=\"Próximo >>\" first-text=\"«\" last-text=\"»\"></ul></div></div></div></div></div></div>");
$templateCache.put("modules/gaspump/views/form.html","");
$templateCache.put("modules/gaspump/views/list.html","");
$templateCache.put("modules/gasnozzle/views/form.html","");
$templateCache.put("modules/gasnozzle/views/list.html","");}]);
angular.module('app.gasnozzle.services',['gumga.core','api.location']);
angular.module('app.gaspump.services',['gumga.core','api.location']);
angular.module('app.gastank.services',['gumga.core','api.location'])
angular.module('app.gasnozzle.services')
    .service('GasNozzleService', ['GumgaRest', 'apiLocation', function (GumgaRest, apiLocation) {
        var service = new GumgaRest(apiLocation + '/api/gasnozzle');


        return service;

    }]);

angular.module('app.gaspump.services')
    .service('GasPumpService', ['GumgaRest', 'apiLocation', function (GumgaRest, apiLocation) {
        var service = new GumgaRest(apiLocation + '/api/gaspump');


        return service;

    }]);

angular.module('app.gastank.services')
    .service('GasTankService', ['GumgaRest', 'apiLocation', function (GumgaRest, apiLocation) {
        var service = new GumgaRest(apiLocation + '/api/gastank');


        return service;

    }]);

angular.module('app.gasnozzle.controllers', ['app.gasnozzle.services','ui.router']);

angular.module('app.gaspump.controllers', ['app.gaspump.services','ui.router']);

angular.module('app.gastank.controllers', ['app.gastank.services','ui.router'])

angular.module('app.gasnozzle.controllers')
    .controller('GasNozzleFormController', [
        function GasNozzleFormController() {

        }]);
angular.module('app.gasnozzle.controllers')
    .controller('GasNozzleListController', [
        function GasNozzleListController() {

        }]);
angular.module('app.gaspump.controllers')
    .controller('GasPumpFormController', [
        function GasPumpFormController() {

        }]);
angular.module('app.gaspump.controllers')
    .controller('GasPumpListController', [
        function GasPumpListController() {

        }]);
angular.module('app.gastank.controllers')
    .controller('GasTankFormController', ['$state', '$scope', 'entity', 'GasTankService', 'ProductService',
        function GasTankFormController($state, $scope, entity, GasTankService, ProductService) {

            $scope.entity = angular.copy(entity.data);

            $scope.searchProduct = function(param){
                return ProductService.searchOnlyGasProducts(param).then(function(response){
                    return response.data.values;
                })
            }

            $scope.blockBtnSave = function(entity){
                return !entity.name || !entity.number || !entity.product;
            }

            $scope.update = function(entity){
                GasTankService.update(entity).then(function(){
                    $state.go('gastank.list')
                })

            }
        }]);
angular.module('app.gastank.controllers')
    .controller('GasTankListController', ['$scope', 'GasTankService', 'gumgaController',
        function GasTankListController($scope, GasTankService, gumgaController) {
            gumgaController.createRestMethods($scope, GasTankService, 'gastank');
            $scope.gastank.execute('reset')
            $scope.gastank.execute('get')

            $scope.conf = {
                columns: 'name,number,product,button',
                selection: 'multi',
                columnsConfig: [
                    {
                        name: 'name',
                        size: 'col-md-7',
                        title: '<strong gumga-translate-tag="gastank.name">Name</strong>',
                        content: '<div> {{$value.name}} </div>'
                    }, {
                        name: 'number',
                        size: 'col-md-2',
                        title: '<strong gumga-translate-tag="gastank.number">Name</strong>',
                        content: '<div> {{$value.number}} </div>'
                    },{
                        name: 'product',
                        size: 'col-md-2',
                        title: '<strong gumga-translate-tag="gastank.product">Name</strong>',
                        content: '<div> {{$value.product.name}} </div>'
                    },
                    {
                        name: 'button',
                        title: ' ',
                        size: 'col-md-1',
                        content: '<div align="center"><button type="button" ui-sref="gastank.edit({id: $value.id})" grands-button="edit-sm" uib-tooltip="Editar"></button></div>'
                    }
                ]
            };

            $scope.gastank.on('deleteSuccess', function(){
                $scope.product.execute('get');
            })
        }])
angular.module('app.gasnozzle', ['ui.router', 'app.gasnozzle.controllers', 'app.gasnozzle.services','api.location'])
    .config(['$stateProvider', 'apiLocation', function ($stateProvider, apiLocation) {
        $stateProvider
            .state('gasnozzle.list', {
                url: '/list',
                templateUrl: 'modules/gasnozzle/views/list.html',
                controller: 'GasNozzleListController',
                data: {id: 2}
            })
            .state('gasnozzle.insert', {
                url: '/insert',
                templateUrl: 'modules/gasnozzle/views/form.html',
                controller: 'GasNozzleFormController',
                controllerAs: 'form',
                data: {id: 3}, resolve: {
                    entity: ['$stateParams', '$http', function ($stateParams, $http) {
                        var url = apiLocation + '/api/gasnozzle/new';
                        return $http.get(url);
                    }]
                }
            })
            .state('gasnozzle.edit', {
                url: '/edit/:id',
                templateUrl: 'modules/gasnozzle/views/form.html',
                controller: 'GasNozzleFormController',
                data: {id: 3}, resolve: {
                    entity: ['$stateParams', '$http', function ($stateParams, $http) {
                        var url = apiLocation + '/api/gasnozzle/' + $stateParams.id;
                        return $http.get(url);
                    }]
                }
            });
    }]);

angular.module('app.gaspump', ['ui.router', 'app.gaspump.controllers', 'app.gaspump.services','api.location'])
    .config(['$stateProvider', 'apiLocation', function ($stateProvider, apiLocation) {
        $stateProvider
            .state('gaspump.list', {
                url: '/list',
                templateUrl: 'modules/gaspump/views/list.html',
                controller: 'GasPumpListController',
                data: {id: 2}
            })
            .state('gaspump.insert', {
                url: '/insert',
                templateUrl: 'modules/gaspump/views/form.html',
                controller: 'GasPumpFormController',
                controllerAs: 'form',
                data: {id: 3}, resolve: {
                    entity: ['$stateParams', '$http', function ($stateParams, $http) {
                        var url = apiLocation + '/api/gaspump/new';
                        return $http.get(url);
                    }]
                }
            })
            .state('gaspump.edit', {
                url: '/edit/:id',
                templateUrl: 'modules/gaspump/views/form.html',
                controller: 'GasPumpFormController',
                data: {id: 3}, resolve: {
                    entity: ['$stateParams', '$http', function ($stateParams, $http) {
                        var url = apiLocation + '/api/gaspump/' + $stateParams.id;
                        return $http.get(url);
                    }]
                }
            });
    }]);

angular.module('app.gastank', ['ui.router', 'app.gastank.controllers', 'app.gastank.services','api.location'])
    .config(['$stateProvider', 'apiLocation', function ($stateProvider, apiLocation) {
        $stateProvider
            .state('gastank.list', {
                url: '/list',
                templateUrl: 'modules/gastank/views/list.html',
                controller: 'GasTankListController',
                data: {id: 2}
            })
            .state('gastank.insert', {
                url: '/insert',
                templateUrl: 'modules/gastank/views/form.html',
                controller: 'GasTankFormController',
                controllerAs: 'form',
                data: {id: 3}, resolve: {
                    entity: ['$stateParams', '$http', function ($stateParams, $http) {
                        var url = apiLocation + '/api/gastank/new';
                        return $http.get(url);
                    }]
                }
            })
            .state('gastank.edit', {
                url: '/edit/:id',
                templateUrl: 'modules/gastank/views/form.html',
                controller: 'GasTankFormController',
                data: {id: 3}, resolve: {
                    entity: ['$stateParams', '$http', function ($stateParams, $http) {
                        var url = apiLocation + '/api/gastank/' + $stateParams.id;
                        return $http.get(url);
                    }]
                }
            });
    }]);


define(function () {
    'use strict';
    return {
        apiLocation: location.origin+"/gas-api"
    };
});

angular.module('gas.core', [
        'ui.router',
        'ngSanitize',
        'app.gasnozzle',
        'app.gaspump',
        'app.gastank',
        'gumga.core',
        'grands.components',
        'product.core',
        'gas.templates'
    ]).config(['$stateProvider', function ($stateProvider) {

        $stateProvider
            .state('gaspump',{
                data: { id : 1},
                url: '/gaspump',
                templateUrl : 'base.html'
            })
            .state('gastank',{
                data: { id : 1},
                url: '/gastank',
                templateUrl : 'base.html'
            })
            .state('gasnozzle',{
                data: { id : 1},
                url: '/gasnozzle',
                templateUrl : 'base.html'
            })


    }])

